<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Issue Overview</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.12.1/datatables.min.css"/>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="/css/projectOverview.css" rel="stylesheet" type="text/css">
</head>
<body>
<header th:replace="fragment/general.html :: header"></header>
<div class="bg"></div>
<div class="bg bg2"></div>
<div class="bg bg3"></div>
<div class="container">
    <h2>List of Issues</h2>
    <hr/>
    <a th:href="@{/issue/new}"  class="btn btn-primary mb-2">Add Issue</a>


    <table class = "table table-bordered table-striped" id = "issueTable">
        <thead>
        <hr/>
        <tr>
            <th>ID</th>
            <th>Summary</th>
            <th>Description</th>
            <th>Created By</th>
            <th>Created On</th>
            <th>Assigned To</th>
            <th>Assigned On</th>
            <th>Status</th>
            <th>Priority</th>
            <th>Target Resolution Date</th>
            <th>Resolution Summary</th>
            <th>Actions</th>

        </tr>
        </thead>
        <tbody>
        <tr th:each="issue: ${issues}">
            <td th:text="${issue.id}"></td>
            <td th:text="${issue.summary}"></td>
            <td th:text="${issue.description}"></td>
            <td th:text="${issue.createdBy}"></td>
            <td th:text="${issue.createdOn}"></td>
            <td th:text="${issue.assignedTo}"></td>
            <td th:text="${issue.assignedOn}"></td>
            <td th:text="${issue.status}"></td>
            <td th:text="${issue.priority}"></td>
            <td th:text="${issue.targetResolutionDate}"></td>
            <td th:text="${issue.resolutionSummary}"></td>
            <td>
                <a th:href = "@{/showUpdateProject}" class = "btn btn-info mb-2"> Update </a>
                <a th:href = "@{/deleteProject}" class = "btn btn-info mb-2"> Delete </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<script src="/js/projectOverview.js" type="text/javascript"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.12.1/datatables.min.js"></script>
<script>
			$(document).ready(function() {
				$("#issueTable").DataTable({
						'aoColumnDefs': [{
        				'bSortable': false,
        				'aTargets': [-1] /* 1st one, start by the right */
    				}]
				});
			})
</script>
</body>
</html>
